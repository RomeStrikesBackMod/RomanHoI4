add_namespace = tesb_AOT

news_event = {
	id = tesb_AOT.1
	title = tesb_AOT.1.t
	desc = tesb_AOT.1.d
	picture = GFX_news_event_royal_visit #placeholder
	fire_only_once = yes

	trigger = {
		original_tag = AOT
		has_idea = AOT_thaddai_power_couple
	}

	mean_time_to_happen = {
		days = 90
		modifier = {
			factor = 0.5
			date > 1936.2.1
		}
		modifier = {
			factor = 0.5
			date > 1936.4.1
		}
	}

	immediate = {
		set_country_flag = AOT_ol_ness_hospitalized
	}

	option = {
		name = tesb_AOT.1.a
	}
}

news_event = {
	id = tesb_AOT.2
	title = tesb_AOT.2.t
	desc = tesb_AOT.2.d
	picture = GFX_news_event_generic_funeral #placeholder
	major = yes
	show_major = {
		OR = {
			original_tag = AOT
			original_tag = RME
		}
	}

	trigger = {
		original_tag = AOT
		has_country_flag = AOT_ol_ness_hospitalized
		NOT = { has_country_flag = AOT_ol_ness_died }
	}

	mean_time_to_happen = {
		days = 120
		modifier = {
			factor = 0.5
			date > 1936.9.1
		}
		modifier = {
			factor = 0.5
			date > 1936.11.1
		}
	}

	immediate = {
		hidden_effect = {
			AOT = {
				swap_ideas = {
					remove_idea = AOT_thaddai_power_couple
					add_idea = AOT_thaddai_heartbreak
				}
				set_country_flag = AOT_ol_ness_died
			}
		}
	}

	option = {
		trigger = {
			original_tag = AOT
		}
		name = tesb_AOT.2.a
		effect_tooltip = {
			swap_ideas = {
				remove_idea = AOT_thaddai_power_couple
				add_idea = AOT_thaddai_heartbreak
			}
		}
	}
	option = {
		trigger = {
			original_tag = RME
		}
		name = tesb_AOT.2.b
	}
}

news_event = {
	id = tesb_AOT.3
	title = tesb_AOT.3.t
	desc = tesb_AOT.3.d
	picture = GFX_news_event_royal_visit #placeholder
	fire_only_once = yes

	trigger = {
		original_tag = AOT
		has_country_flag = AOT_ol_ness_died
		date > 1938.1.1
	}

	mean_time_to_happen = {
		days = 365
		modifier = {
			factor = 0.5
			date > 1938.7.1
			has_idea = AOT_timon_abroad
		}
		modifier = {
			factor = 0.5
			date > 1939.1.1
			has_idea = AOT_timon_abroad
		}
		modifier = {
			factor = 2
			has_idea = AOT_timon_at_home
		}
		modifier = {
			factor = 0.5
			date > 1939.7.1
		}
		modifier = {
			factor = 0.5
			date > 1940.1.1
		}
	}

	immediate = {
		set_country_flag = AOT_kyrene_dying
	}

	option = {
		trigger = {
			has_idea = AOT_timon_abroad
		}
		name = tesb_AOT.3.a
	}
	option = {
		trigger = {
			NOT = { has_idea = AOT_timon_abroad }
		}
		name = tesb_AOT.3.b
	}
}

country_event = {
	id = tesb_AOT.4
	title = tesb_AOT.4.t
	desc = tesb_AOT.4.d
	picture = GFX_report_event_ast_parliament_house #placeholder

	is_triggered_only = yes

	immediate = {

	}

	option = {
		name = tesb_AOT.4.a #give leave
		AOT = { set_country_flag = AOT_timon_returning }
		ai_chance = {
			base = 10
		}
	}
	option = {
		name = tesb_AOT.4.b #give temporary leave
		AOT = { set_country_flag = AOT_timon_visit }
		ai_chance = {
			base = 5
		}
	}
	option = {
		name = tesb_AOT.4.c #prevent
		AOT = { set_country_flag = AOT_timon_stay_rome }
		ai_chance = {
			base = 1
		}
	}
}

news_event = {
	id = tesb_AOT.5
	title = tesb_AOT.5.t
	desc = tesb_AOT.5.d
	picture = GFX_news_event_generic_funeral #placeholder
	major = yes
	show_major = {
		OR = {
			original_tag = AOT
			original_tag = RME
		}
	}

	trigger = {
		original_tag = AOT
		has_country_flag = AOT_kyrene_dying
		NOT = { has_country_flag = AOT_kyrene_died }
	}

	mean_time_to_happen = {
		days = 365
		modifier = {
			factor = 0.5
			has_country_flag = AOT_timon_stay_rome
		}
		modifier = {
			factor = 0.5
			date > 1939.1.1
			has_idea = AOT_timon_abroad
			NOT = {
				has_country_flag = AOT_timon_visit
			}
		}
		modifier = {
			factor = 0.5
			date > 1939.7.1
			has_idea = AOT_timon_abroad
		}
		modifier = {
			factor = 2
			has_idea = AOT_timon_at_home
		}
		modifier = {
			factor = 0.5
			date > 1939.7.1
		}
		modifier = {
			factor = 0.5
			date > 1940.1.1
		}
	}

	immediate = {
		hidden_effect = {
			AOT = {
				swap_ideas = {
					remove_idea = AOT_thaddai_heartbreak
					add_idea = AOT_thaddai_hope
				}
				set_country_flag = AOT_kyrene_died
				country_event = { id = tesb_AOT.6 hours = 1 }
			}
		}
	}

	option = {
		trigger = {
			original_tag = AOT
		}
		name = tesb_AOT.5.a
		effect_tooltip = {
			retire_character = AOT_kyrene_thaddas
			swap_ideas = {
				remove_idea = AOT_thaddai_heartbreak
				add_idea = AOT_thaddai_hope
			}
		}
	}
	option = {
		trigger = {
			original_tag = RME
		}
		name = tesb_AOT.5.b
	}
}

country_event = {
	id = tesb_AOT.6
	title = tesb_AOT.6.t
	desc = tesb_AOT.6.d
	picture = GFX_report_event_ast_parliament_house #placeholder

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			AOT = {
				promote_character = {
					character = AOT_transitional_council
					ideology = conservatism
				}
				retire_character = AOT_kyrene_thaddas
			}
		}
	}

	option = {
		name = tesb_AOT.6.a
		unlock_national_focus = AOT_maintain_transitional_council
		effect_tooltip = { retire_character = AOT_kyrene_thaddas }
		hidden_effect = {
			promote_character = {
				character = AOT_transitional_council
				ideology = conservatism
			}
		}
		ai_chance = {
			base = 10
			modifier = {
				has_completed_focus = AOT_keep_timon_in_aotearoa
				factor = 0.5
			}
		}
	}
	option = {
		trigger = {
			has_completed_focus = AOT_send_timon_to_constantiople
		}
		name = tesb_AOT.6.b
		complete_national_focus = AOT_rely_on_mesazon
		activate_mission = AOT_mesazon_power_struggle
		effect_tooltip = { retire_character = AOT_kyrene_thaddas }
		ai_chance = {
			base = 5
		}
	}
	option = {
		trigger = {
			has_completed_focus = AOT_keep_timon_in_aotearoa
		}
		name = tesb_AOT.6.c
		unlock_national_focus = AOT_appoint_timon_as_exarch
		activate_mission = AOT_neo_taneist_plot
		hidden_effect = {
			promote_character = {
				character = AOT_timon_thaddas
				ideology = socialism
			}
		}
		effect_tooltip = { retire_character = AOT_kyrene_thaddas }
		ai_chance = {
			base = 5
		}
	}
}


country_event = {
	id = tesb_AOT.10
	title = tesb_AOT.10.t
	desc = tesb_AOT.10.d
	picture = GFX_report_event_ast_parliament_house #placeholder

	is_triggered_only = yes

	immediate = {

	}

	option = {
		name = tesb_AOT.10.a #welcome back
		set_autonomy = {
			target = AOT
			autonomy_state = autonomy_dominion
		}
		AOT = { country_event = { id = tesb_AOT.11 } }
		ai_chance = {
			base = 10
		}
	}
	option = {
		name = tesb_AOT.10.b #reject
		AOT = { country_event = { id = tesb_AOT.11 } }
	}
}

country_event = {
	id = tesb_AOT.11
	title = tesb_AOT.11.t
	desc = {
		text = tesb_AOT.11.da
		trigger = { is_subject_of = FROM }
	}
	desc = {
		text = tesb_AOT.11.db
		trigger = { NOT = { is_subject_of = FROM } }
	}
	picture = GFX_report_event_ast_parliament_house #placeholder

	is_triggered_only = yes

	immediate = {

	}

	option = {
		name = tesb_AOT.11.a #welcome back
		trigger = { is_subject_of = FROM }
		effect_tooltip = {
			set_autonomy = {
				target = AOT
				autonomy_state = autonomy_dominion
			}
		}
	}
	option = {
		name = tesb_AOT.11.b #reject
		trigger = { NOT = { is_subject_of = FROM } }
	}
}

country_event = {
	id = tesb_AOT.12
	title = tesb_AOT.12.t
	desc = tesb_AOT.12.d
	picture = GFX_report_event_ast_parliament_house #placeholder

	is_triggered_only = yes

	immediate = {

	}

	option = {
		name = tesb_AOT.12.a #welcome back
		set_autonomy = {
			target = AOT
			autonomy_state = autonomy_colony
		}
		AOT = { country_event = { id = tesb_AOT.13 } }
		ai_chance = {
			base = 10
		}
	}
	option = {
		name = tesb_AOT.12.b #reject
		AOT = { country_event = { id = tesb_AOT.13 } }
	}
}

country_event = {
	id = tesb_AOT.13
	title = tesb_AOT.13.t
	desc = {
		text = tesb_AOT.13.da
		trigger = { is_subject_of = FROM }
	}
	desc = {
		text = tesb_AOT.13.db
		trigger = { NOT = { is_subject_of = FROM } }
	}
	picture = GFX_report_event_ast_parliament_house #placeholder

	is_triggered_only = yes

	immediate = {

	}

	option = {
		name = tesb_AOT.13.a #welcome back
		trigger = { is_subject_of = FROM }
		effect_tooltip = {
			set_autonomy = {
				target = AOT
				autonomy_state = autonomy_colony
			}
		}
	}
	option = {
		name = tesb_AOT.13.b #reject
		trigger = { NOT = { is_subject_of = FROM } }
	}
}

country_event = {
	id = tesb_AOT.20
	title = tesb_AOT.20.t
	desc = tesb_AOT.20.d
	picture = GFX_report_event_ast_parliament_house #placeholder

	is_triggered_only = yes

	immediate = {

	}

	option = {
		name = tesb_AOT.20.a
		add_ideas = AOT_conservative_constituion
		add_popularity = {
			ideology = democratic
			popularity = 0.1
		}
		if = {
			limit = { has_completed_focus = AOT_reluctant_leader }
			add_stability = -0.05
		}
		ai_chance = {
			base = 10
			modifier = {
				has_completed_focus = AOT_empty_seat
				factor = 5
			}
		}
	}
	option = {
		name = tesb_AOT.20.b
		add_ideas = AOT_socialist_constituion
		add_popularity = {
			ideology = communism
			popularity = 0.1
		}
		if = {
			limit = { has_completed_focus = AOT_empty_seat }
			add_stability = -0.05
		}
		ai_chance = {
			base = 10
			modifier = {
				has_completed_focus = AOT_reluctant_leader
				factor = 5
			}
		}
	}
}
