add_namespace = tesb_BRG

country_event = {
	id = tesb_BRG.100
	title = tesb_BRG.100.t
	desc = tesb_BRG.100.d
	picture = GFX_report_event_german_italian_pact

	is_triggered_only = yes
	immediate = {
	}
	
	option = {
		name = tesb_BRG.100.a
		effect_tooltip = {
			add_popularity = {
				ideology = fascism
				popularity = BRG_fascist_var
			}
			add_popularity = {
				ideology = communism
				popularity = BRG_communist_var
			}
			add_popularity = {
				ideology = democratic
				popularity = BRG_democratic_var
			}
		}
		hidden_effect = {
			add_popularity = {
				ideology = fascism
				popularity = BRG_fascist_var1
			}
			add_popularity = {
				ideology = communism
				popularity = BRG_communist_var1
			}
			add_popularity = {
				ideology = democratic
				popularity = BRG_democratic_var
			}
			add_popularity = {
				ideology = communism
				popularity = BRG_communist_var2
			}
			add_popularity = {
				ideology = fascism
				popularity = BRG_fascist_var2
			}
		}
	}
}

country_event = {
	id = tesb_BRG.110
	title = tesb_BRG.110.t
	desc = tesb_BRG.110.d
	picture = GFX_report_event_german_italian_pact

	is_triggered_only = yes
	immediate = {
	}
	
	#FLD alliance
	option = {
		trigger = { is_faction_leader = yes }
		name = tesb_BRG.110.a
		FLD = { country_event = { id = tesb_BRG.120 hours = 1 } }
		ai_chance = {
			base = 5
			modifier = {
				has_government = democratic
				factor = 2
			}
			modifier = {
				FLD = { NOT = { has_government = democratic } }
				factor = 0.25
			}
		}
	}
	#FLD subject
	option = {
		name = tesb_BRG.110.b
		FLD = { country_event = { id = tesb_BRG.130 hours = 1 } }
		ai_chance = {
			base = 5
		}
	}
	#just Zeeland
	option = {
		name = tesb_BRG.110.c
		trigger = { NOT = { has_government = democratic } }
		FLD = { country_event = { id = tesb_BRG.140 hours = 1 } }
		ai_chance = {
			base = 1
		}
	}
}

country_event = {
	id = tesb_BRG.120
	title = tesb_BRG.120.t
	desc = tesb_BRG.120.d
	picture = GFX_report_event_german_italian_pact

	is_triggered_only = yes
	immediate = {
	}
	
	#Join BRG alliance
	option = {
		name = tesb_BRG.120.a
		effect_tooltip = {
			BRG = { add_to_faction = ROOT }
		}
		hidden_effect = {
			BRG = { country_event = { id = tesb_BRG.121 hours = 1 } }
		}
		ai_chance = {
			base = 5
			modifier = {
				NOT = { has_government = FROM }
				factor = 0.5
			}
			modifier = {
				has_government = FROM
				factor = 2
			}
		}
	}
	#Reject BRG alliance
	option = {
		name = tesb_BRG.120.b
		effect_tooltip = {
			reverse_add_opinion_modifier = {
				target = BRG
				modifier = rejected_faction
			}
		}
		if = {
			limit = {
				NOT = { has_government = FROM }
			}
			custom_effect_tooltip = tesb_BRG.120.tt
		}
		hidden_effect = {
			BRG = { country_event = { id = tesb_BRG.122 hours = 1 } }
		}
		ai_chance = {
			base = 5
			modifier = {
				strength_ratio = {
					tag = BRG
					ratio < 0.5
				}
				factor = 0.5
			}
			modifier = {
				strength_ratio = {
					tag = BRG
					ratio > 1
				}
				factor = 2
			}
		}
	}
}
country_event = {
	id = tesb_BRG.121
	title = tesb_BRG.121.t
	desc = tesb_BRG.121.d
	picture = GFX_report_event_german_italian_pact

	is_triggered_only = yes
	immediate = {
	}
	
	#Join BRG alliance
	option = {
		name = tesb_BRG.121.a
		add_to_faction = FROM
	}
}
country_event = {
	id = tesb_BRG.122
	title = tesb_BRG.122.t
	desc = tesb_BRG.122.d
	picture = GFX_report_event_german_italian_pact

	is_triggered_only = yes
	immediate = {
	}
	
	#Join BRG alliance
	option = {
		name = tesb_BRG.122.a
		add_opinion_modifier = {
			target = FROM
			modifier = rejected_faction
		}
	}
	#Reject BRG alliance
	option = {
		trigger = {
			FROM = {
				NOT = { has_government = ROOT }
			}
		}
		name = tesb_BRG.122.b
		add_opinion_modifier = {
			target = FROM
			modifier = rejected_faction
		}
		if = {
			limit = { has_government = democratic }
			create_wargoal = {
				type = topple_government
				target = FROM
			}
		}
		else = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = FROM
			}
		}
	}
}

country_event = {
	id = tesb_BRG.125
	title = tesb_BRG.125.t
	desc = tesb_BRG.125.d
	picture = GFX_report_event_german_italian_pact

	is_triggered_only = yes
	immediate = {
	}
	
	#attack BRI
	option = {
		name = tesb_BRG.125.a
		trigger = {
			OR = {
				BRI = { NOT = { has_government = ROOT } }
				has_government = absolutist
			}
		}
		create_wargoal = {
			target = BRI
			type = annex_everything
		}
	}
	#Ally BRI
	option = {
		trigger = {
			OR = {
				BRI = { NOT = { has_government = ROOT } }
				has_government = democratic
			}
		}
		name = tesb_BRG.125.b
		BRI = { country_event = { id = tesb_BRG.120 hours = 1 } }
	}
}


country_event = {
	id = tesb_BRG.130
	title = tesb_BRG.130.t
	desc = tesb_BRG.130.d
	picture = GFX_report_event_german_italian_pact

	is_triggered_only = yes
	immediate = {
	}
	
	#Submit to BRG
	option = {
		name = tesb_BRG.130.a
		effect_tooltip = {
			BRG = { puppet = FLD transfer_state = 55 }
		}
		hidden_effect = {
			BRG = { country_event = { id = tesb_BRG.131 hours = 1 } }
		}
		set_country_flag = BRG_promised_picardie
	}
	#Resist BRG
	option = {
		name = tesb_BRG.130.b
		effect_tooltip = {
			BRG = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = FLD
				}
			}
		}
		hidden_effect = {
			BRG = { country_event = { id = tesb_BRG.132 hours = 1 } }
		}
	}
}

country_event = {
	id = tesb_BRG.131
	title = tesb_BRG.131.t
	desc = tesb_BRG.131.d
	picture = GFX_report_event_german_italian_pact

	is_triggered_only = yes
	immediate = {
	}
	
	#Submit BRG
	option = {
		name = tesb_BRG.131.a
		puppet = FLD
		transfer_state = 55
	}
}
country_event = {
	id = tesb_BRG.132
	title = tesb_BRG.132.t
	desc = tesb_BRG.132.d
	picture = GFX_report_event_german_italian_pact

	is_triggered_only = yes
	immediate = {
	}
	
	#Resist BRG
	option = {
		name = tesb_BRG.132.a
		create_wargoal = {
			type = puppet_wargoal_focus
			target = FLD
		}
	}
}

country_event = {
	id = tesb_BRG.135
	title = tesb_BRG.135.t
	desc = tesb_BRG.135.d
	picture = GFX_report_event_german_italian_pact

	is_triggered_only = yes
	immediate = {
	}
	
	#Grant FLD picardie
	option = {
		name = tesb_BRG.135.a
		FLD = { transfer_state = 199 }
	}
	#Grant FRA picardie/Keep picardie
	option = {
		name = tesb_BRG.135.b
		FLD = {
			add_opinion_modifier = {
				modifier = BRG_broke_promise
				target = BRG
			}
		}
	}
}

country_event = {
	id = tesb_BRG.140
	title = tesb_BRG.140.t
	desc = tesb_BRG.140.d
	picture = GFX_report_event_german_italian_pact

	is_triggered_only = yes
	immediate = {
	}
	
	#Submit to BRG
	option = {
		name = tesb_BRG.140.a
		effect_tooltip = {
			BRG = { transfer_state = 55 }
		}
		hidden_effect = {
			BRG = { country_event = { id = tesb_BRG.141 hours = 1 } }
		}
	}
	#Resist BRG
	option = {
		name = tesb_BRG.140.b
		effect_tooltip = {
			BRG = {
				create_wargoal = {
					type = take_core_state
					target = FLD
					generator = { 55 }
				}
			}
		}
		hidden_effect = {
			BRG = { country_event = { id = tesb_BRG.142 hours = 1 } }
		}
	}
}

country_event = {
	id = tesb_BRG.141
	title = tesb_BRG.141.t
	desc = tesb_BRG.141.d
	picture = GFX_report_event_german_italian_pact

	is_triggered_only = yes
	immediate = {
	}
	
	#Submit BRG
	option = {
		name = tesb_BRG.141.a
		transfer_state = 55
	}
}
country_event = {
	id = tesb_BRG.142
	title = tesb_BRG.142.t
	desc = tesb_BRG.142.d
	picture = GFX_report_event_german_italian_pact

	is_triggered_only = yes
	immediate = {
	}
	
	#Resist BRG
	option = {
		name = tesb_BRG.142.a
		create_wargoal = {
			type = take_core_state
			target = FLD
			generator = { 55 }
		}
	}
}

country_event = {
	id = tesb_BRG.150
	title = tesb_BRG.150.t
	desc = tesb_BRG.150.d
	picture = GFX_report_event_german_italian_pact

	is_triggered_only = yes
	immediate = {
	}
	
	#Submit to BRG
	option = {
		name = tesb_BRG.150.a
		effect_tooltip = {
			BRG = {
				set_autonomy = {
					target = ITA
					autonomy_state = autonomy_puppet
				}
			}
		}
		hidden_effect = {
			BRG = {
				country_event = {
					id = tesb_BRG.151
					hours = 1
				}
			}
		}
	}
	#Resist BRG
	option = {
		name = tesb_BRG.150.b
		effect_tooltip = {
			BRG = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ITA
				}
			}
		}
		hidden_effect = {
			BRG = {
				country_event = {
					id = tesb_BRG.152
					hours = 1
				}
			}
		}
	}
}

country_event = {
	id = tesb_BRG.151
	title = tesb_BRG.151.t
	desc = tesb_BRG.151.d
	picture = GFX_report_event_german_italian_pact

	is_triggered_only = yes
	immediate = {
	}
	
	#Submit BRG
	option = {
		name = tesb_BRG.151.a
		puppet = ITA
	}
}
country_event = {
	id = tesb_BRG.152
	title = tesb_BRG.152.t
	desc = tesb_BRG.152.d
	picture = GFX_report_event_german_italian_pact

	is_triggered_only = yes
	immediate = {
	}
	
	#Resist BRG
	option = {
		name = tesb_BRG.152.a
		create_wargoal = {
			type = puppet_wargoal_focus
			target = ITA
		}
	}
}

#alliance with HUN
country_event = {
	id = tesb_BRG.160
	title = tesb_BRG.160.t
	desc = {
		trigger = { is_faction_leader = yes }
		text = tesb_BRG.160.da
	}
	desc = {
		trigger = { is_faction_leader = no }
		text = tesb_BRG.160.db
	}
	picture = GFX_goal_generic_improve_relations

	is_triggered_only = yes

	option = {
		name = tesb_BRG.160.a
		set_country_flag = join_BRG
		BRG = {
			country_event = { id = tesb_BRG.161 hours = 24 }
		}
		if = {
			limit = {
				is_faction_leader = yes
			}
			every_country = {
				limit = {
					is_in_faction_with = ROOT
				}
				country_event = { id = tesb_BRG.162 }
			}
		}
		ai_chance = {
			base = 10
		}
	}
	option = {
		name = tesb_BRG.160.b
		set_country_flag = reject_BRG
		BRG = {
			country_event = { id = tesb_BRG.163 hours = 24 }
		}
		ai_chance = {
			base = 1
		}
	}
}

#alliance with HUN
country_event = {
	id = tesb_BRG.161
	title = tesb_BRG.161.t
	desc = tesb_BRG.161.desc
	picture = GFX_goal_generic_improve_relations

	is_triggered_only = yes

	option = {
		name = tesb_BRG.161.a
		set_faction_name = "BRG_HUN_faction"
		every_country = {
			limit = {
				has_country_flag = join_BRG
			}
			BRG = { add_to_faction = PREV }
		}
	}
}

#alliance with HUN
country_event = {
	id = tesb_BRG.162
	title = tesb_BRG.162.t
	desc = tesb_BRG.162.desc
	picture = GFX_goal_generic_improve_relations

	is_triggered_only = yes

	#stay
	option = {
		name = tesb_BRG.162.a
		set_country_flag = join_BRG
		ai_chance = {
			factor = 10
		}
	}
	
	#leave
	option = {
		name = tesb_BRG.162.b
		leave_faction = yes
		ai_chance = {
			factor = 1
		}
	}
}

#no alliance with HUN
country_event = {
	id = tesb_BRG.163
	title = tesb_BRG.163.t
	desc = tesb_BRG.163.desc
	picture = GFX_goal_generic_improve_relations

	is_triggered_only = yes

	#stay
	option = {
		name = tesb_BRG.163.a
	}
}
